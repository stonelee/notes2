<!DOCTYPE HTML>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <meta name="generator" content="nico 0.4.1">
    <meta name="theme" content="one 0.1">
    <title>linux</title>
    <link rel="stylesheet" href="../static/one.css" />
    <link rel="stylesheet" href="../static/syntax.css" />
  </head>
  <body>
    <div class="navigation" role="navigation">
      <div class="container">
        <a class="home" href="../"></a>
      </div>
    </div>
    <div class="document">
<div class="hentry">
  <h1 class="entry-title">linux</h1>
  <div class="entry-content"><p>误删除数据后，如果其他进程有使用该数据，可以进行恢复</p>
<ol>
<li>找到刚才的Python进程 $ ps -Af | grep python</li>
<li>查看进程 ll /proc/4933/fd</li>
<li>查看文件 cat /proc/4933/fd/3</li>
</ol>
<h2 id="命令行">命令行</h2><p>跳到行首: <code>ctrl+a</code>
跳到行尾: <code>ctrl+e</code>
删除整行: <code>ctrl+c</code></p>
<p>递归设置文件夹权限(一般为775):
<code>find -type d|xargs chmod 775</code></p>
<p>递归设置文件权限(一般为664):
<code>find -type f|xargs chmod 664</code></p>
<p>更改文件的用户和用户组
<code>sudo chown -R stonelee:stonelee .spm/</code></p>
<h2 id="安装卸载">安装卸载</h2><p>安装: <code>sudo dpkg -i 软件名.deb</code></p>
<p>卸载: 先<code>dpkg -l | grep qq</code> 找到名字，然后执行：<code>sudo dpkg -r qq-for-wine 或 sudo dpkg -P qq-for-wine</code></p>
<p><code>-P</code>删除配置文件，比较常用；<code>-r</code>保留配置文件，可以用来重装软件。</p>
<p>nginx配置 <code>/etc/nginx</code></p>
<h2 id="启动">启动</h2><p>关机: <code>halt</code>
重启: <code>reboot</code></p>
<p>进入root账户: <code>sudo -i</code></p>
<p>查看log:  <code>/var/log</code></p>
<p>查看系统启动信息 <code>dmesg</code></p>
<h3 id="系统启动显示详细开机信息">系统启动显示详细开机信息</h3><p>修改<code>/etc/default/grub</code>, 修改<code>GRUB_CMDLINE_LINUX_DEFAULT=&quot;&quot;</code></p>
<p>修改<code>/etc/grub.d/10_linux</code>, 注释掉<code>gfxmode &amp;linux_gfx_mode</code></p>
<p>然后<code>update-grub</code></p>
<p>实际修改的是<code>/boot/grub/grub.cfg</code></p>
<h2 id="服务器">服务器</h2><h3 id="修改apache2端口">修改apache2端口</h3><p>配置文件在/etc/apache2中</p>
<p>修改ports.conf</p>
<pre>NameVirtualHost *:8000
Listen 8000</pre><p>修改sites-enabled/000-default</p>
<pre>&lt;VirtualHost *:8000&gt;</pre><p>重启 <code>sudo service apache2 restart</code></p>
<h3 id="apache添加虚拟目录">Apache添加虚拟目录</h3><pre>/etc/apache2/sites-enabled/000-default中

Alias /php/ &quot;/home/stonelee/libs/php/&quot;
&lt;Directory /home/stonelee/libs/php/&gt;
  Options Indexes FollowSymLinks MultiViews
  AllowOverride None
  Order allow,deny
  allow from all
&lt;/Directory&gt;</pre><h2 id="数据库">数据库</h2><h3 id="mysql中文乱码">mysql中文乱码</h3><p>修改/etc/mysql/my.cnf</p>
<pre>[mysql]
character-set-server=utf8
[mysqld]
character-set-server=utf8</pre><h2 id="版本控制">版本控制</h2><h3 id="git">git</h3><p>抛弃未提交的变动 <code>git reset --hard HEAD</code></p>
<p>撤销上次提交 <code>git revert HEAD</code></p>
<h2 id="vim">vim</h2><p><code>ctrl+n</code> 关键字补全</p>
<h2 id="jshint">jshint</h2><p>在.jshint中配置es3:true，用于兼容IE8以下语法，例如数组中最后一项没有逗号</p>
</div>
</div>
</div>
    <div class="footer">
      <p class="copyright">powered by <a href="http://lab.lepture.com/nico/">nico</a> 0.4.1</p>
    </div>
    <script src="http://static.alipayobjects.com/seajs/1.2.1/sea.js" data-main="../static/one.js"></script>
  </body>
</html>